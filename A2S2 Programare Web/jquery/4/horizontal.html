<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
	</head>
	<body>
		<table class="full" style="width: 180px; margin-top: 1em;">
			<tbody>
				<tr>
					<th>Fructe</th>
					<th>Pret</th>
					<th>Cantitate</th>
				</tr>
				<tr>
					<td>Mere</td>
					<td>3</td>
					<td>8</td>
				</tr>
				<tr>
					<td>Pere</td>
					<td>4</td>
					<td>6</td>
				</tr>
				<tr>
					<td>Caise</td>
					<td>7</td>
					<td>2</td>
				</tr>
				<tr>
					<td>Capsuni</td>
					<td>2</td>
					<td>9</td>
				</tr>
			</tbody>
		</table>
	</body>
	<script>
		$("tbody > tr > th").click(event => {
			sortByColumn(event.currentTarget);
		})
		
		function sortByColumn(columnHeading) {
			let columnIndex = $(columnHeading).parent().children().index(columnHeading);

			let table = $(columnHeading).parent().parent();

			let columnElements = $(table).find(`tr > td:nth-child(${columnIndex+1})`).toArray();

			let order = [];
			for (let i = 0; i < columnElements.length; ++i) {
				order.push(i);
			}
			
			order.sort((a, b) => columnElements[a].textContent < columnElements[b].textContent);

			let rows = $(table).children().toArray();
			rows = rows.slice(1);

			$(rows).remove();
			rows = order.map(index => rows[index]);
			table.append($(rows))
		}
	</script>
</html>
